<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VibeSpace - Settings</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet">
  <style>
    .settings-grid { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:28px; align-items:start; }
    .profile-card .avatar-preview { width:140px; height:140px; border-radius:50%; background:#ddd; display:block; margin:12px auto; border:5px solid rgba(0,0,0,0.06); }
    .field { margin-bottom:16px; }
    .field label { display:block; margin-bottom:8px; color:#223f75; font-weight:700; font-size:1.05rem; }
    .field input[type='text'], .field textarea, .field select { width:100%; padding:12px; border-radius:8px; border:1px solid #cfcfcf; font-size:1rem; }
    .theme-option { display:flex; align-items:center; gap:14px; padding:14px; border-radius:10px; margin-bottom:12px; cursor:pointer; }
    .theme-option.selected { outline:4px solid rgba(63,94,125,0.15); background:#f9fafb; }
    .accessibility-card .fonts { display:flex; gap:10px; }
    .radio-btn { padding:10px 14px; border-radius:8px; background:#fff; border:1px solid #d1d5db; cursor:pointer; font-size:1rem; }
    .radio-btn.active { background:#3f5e7d; color:#fff; }
    .save-btn { float:right; margin-top:36px; padding:12px 18px; font-size:1rem; border-radius:10px; }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <header class="topbar"><div class="topbar-inner"><div class="topbar-left"><h1 class="logo">VibeSpace</h1></div><div class="topbar-right"><h2>Settings</h2></div></div></header>

  <aside class="sidebar"><nav><ul><li><a href="index.html"><i class="fa-solid fa-house"></i> <span>Home</span></a></li><li><a href="Study.html"><i class="fa-regular fa-clock"></i> <span>Study Room</span></a></li><li><a href="Chill.html"><i class="fa-regular fa-face-smile"></i> <span>Chill Room</span></a></li><li><a href="Community.html"><i class="fa-solid fa-users"></i> <span>Community</span></a></li><li><a href="settings.html" class="active"><i class="fa-solid fa-gear"></i> <span>Settings</span></a></li></ul></nav></aside>

  <main id="main-content">
    <section class="page-header" style="margin-bottom:18px;"><h2>Settings</h2></section>

    <div class="settings-grid">
      <div class="card profile-card">
        <h3>Profile Settings</h3>
        <img id="avatarPreview" class="avatar-preview" src="https://via.placeholder.com/96" alt="avatar">
        <div style="text-align:center;"><label for="avatarInput" class="btn" style="margin-top:8px; background:#fff; color:#223f75; border:1px solid #d1d5db;">Change Avatar</label>
        <input id="avatarInput" type="file" accept="image/*" style="display:none;" /></div>
        <div class="field"><label for="displayName">Display Name</label><input id="displayName" type="text" placeholder="Your display name"></div>
        <div class="field"><label for="pronouns">Pronouns</label><select id="pronouns"><option value="they/them">they/them</option><option value="she/her">she/her</option><option value="he/him">he/him</option></select></div>
        <div class="field"><label for="bio">Bio</label><textarea id="bio" rows="4"></textarea></div>
      </div>

      <div class="card theme-card">
        <h3>Theme Customization</h3>
        <div style="margin-top:8px;">
          <div class="theme-option" data-theme="pastel"><div style="width:42px;height:28px;background:linear-gradient(90deg,#e9e6f2,#dbe9f7);border-radius:6px;"></div><div><strong>Pastel</strong><div style="color:#6b7280; font-size:13px;">Soft, calming colors</div></div></div>
          <div class="theme-option" data-theme="dark"><div style="width:42px;height:28px;background:#132532;border-radius:6px;border:2px solid #0f1724;"></div><div><strong>Dark</strong><div style="color:#6b7280; font-size:13px;">Easier on the eyes</div></div></div>
          <div class="theme-option" data-theme="high-contrast"><div style="width:42px;height:28px;background:#000;border-radius:6px;"></div><div><strong>High Contrast</strong><div style="color:#6b7280; font-size:13px;">WCAG AAA compliant</div></div></div>
        </div>
      </div>

      <div class="card accessibility-card">
        <h3>Accessibility Preferences</h3>
        <div style="margin-top:12px;">
          <label><input id="captionsDefault" type="checkbox"> Captions default: ON</label>
        </div>
        <div style="margin-top:12px;"><label style="display:block; margin-bottom:8px;">Font Size</label>
          <div class="fonts"><div class="radio-btn" data-size="small">Small</div><div class="radio-btn active" data-size="medium">Medium</div><div class="radio-btn" data-size="large">Large</div></div>
        </div>
        <div style="margin-top:12px;"><label><input id="dyslexicFont" type="checkbox"> Dyslexia-friendly font</label></div>
      </div>
    </div>

    <div style="margin-top:28px;">
      <button id="saveSettings" class="btn save-btn">Save All Settings</button>
    </div>
  </main>

  <footer>
    <button id="toggleCaptions">Captions</button>
    <button id="toggleContrast">High Contrast</button>
    <button id="toggleTheme">Pastel Theme</button>
    <button id="voiceToText">Voice-to-Text</button>
    <p>Â© 2026 VibeSpace</p>
  </footer>

  <script>
    // Settings behavior: load/save to localStorage and apply theme/font size
    (function(){
      const KEY = 'vibe_settings_v1';
      const defaults = { displayName:'Alex Johnson', pronouns:'they/them', bio:'Student focused on accessibility and UX design.', theme:'pastel', captions:true, fontSize:'medium', dyslexic:false, avatar:'' };

      const avatarInput = document.getElementById('avatarInput');
      const avatarPreview = document.getElementById('avatarPreview');
      const displayName = document.getElementById('displayName');
      const pronouns = document.getElementById('pronouns');
      const bio = document.getElementById('bio');
      const themeOptions = document.querySelectorAll('.theme-option');
      const captionsDefault = document.getElementById('captionsDefault');
      const fontBtns = document.querySelectorAll('.radio-btn');
      const dyslexicFont = document.getElementById('dyslexicFont');
      const saveBtn = document.getElementById('saveSettings');

      function load(){
        let set = defaults;
        try{ set = Object.assign({}, defaults, JSON.parse(localStorage.getItem(KEY) || '{}')); } catch(e){}
        displayName.value = set.displayName;
        pronouns.value = set.pronouns;
        bio.value = set.bio;
        captionsDefault.checked = !!set.captions;
        dyslexicFont.checked = !!set.dyslexic;
        if (set.avatar) avatarPreview.src = set.avatar;
        // theme
        themeOptions.forEach(o=> o.classList.toggle('selected', o.dataset.theme === set.theme));
        // font
        fontBtns.forEach(b=> b.classList.toggle('active', b.dataset.size === set.fontSize));
        applyTheme(set.theme);
        applyFontSize(set.fontSize);
      }

      function save(){
        const set = { displayName:displayName.value, pronouns:pronouns.value, bio:bio.value, theme: document.querySelector('.theme-option.selected')?.dataset.theme || 'pastel', captions:captionsDefault.checked, fontSize: document.querySelector('.radio-btn.active')?.dataset.size || 'medium', dyslexic: dyslexicFont.checked, avatar: avatarPreview.src };
        localStorage.setItem(KEY, JSON.stringify(set));
        alert('Settings saved locally');
      }

      function applyTheme(name){
        document.documentElement.removeAttribute('data-theme');
        if(name) document.documentElement.setAttribute('data-theme', name);
      }

      function applyFontSize(sz){
        document.documentElement.style.fontSize = (sz==='small'? '14px': sz==='large'? '18px' : '16px');
      }

      avatarInput.addEventListener('change', (e)=>{
        const file = e.target.files[0];
        if(!file) return;
        const reader = new FileReader();
        reader.onload = ()=> avatarPreview.src = reader.result;
        reader.readAsDataURL(file);
      });

      themeOptions.forEach(o=> o.addEventListener('click', ()=>{ themeOptions.forEach(x=>x.classList.remove('selected')); o.classList.add('selected'); applyTheme(o.dataset.theme); }));
      fontBtns.forEach(b=> b.addEventListener('click', ()=>{ fontBtns.forEach(x=>x.classList.remove('active')); b.classList.add('active'); applyFontSize(b.dataset.size); }));
      saveBtn.addEventListener('click', save);

      // init
      load();
    })();
  </script>
  <script src="assets/js/main.js"></script>
</body>
</html>
